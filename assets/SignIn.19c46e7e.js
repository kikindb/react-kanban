import{u as f,r as o,j as t,C as I,b as e,d as w,a as g,e as y,N as b,F as v,H as x}from"./index.2e9b2329.js";function C(){const l=f(),n=o.exports.useRef(null),r=o.exports.useRef(null),a=o.exports.useRef(null),d=o.exports.useRef(null),m="http://3.17.62.88:3000/api/users";return t(I,{children:[e("header",{children:e("h1",{children:"Sign In"})}),e("div",{className:"form-container",children:t("form",{onSubmit:async h=>{var u,c,p;h.preventDefault();try{const s=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:(u=n.current)==null?void 0:u.value,email:(c=r.current)==null?void 0:c.value,password:(p=a.current)==null?void 0:p.value})}),i=await s.json();i.image=null,i.token=s.headers.get("x-auth-token"),l(w.login(i)),console.log(i)}catch(s){console.error(s)}},autoComplete:"new-password",children:[t("div",{className:"input-container",children:[e("label",{htmlFor:"nameInput",children:"Name "}),e("input",{type:"text",id:"nameInput","data-testid":"nameInput",placeholder:"Insert your name",ref:n,required:!0})]}),t("div",{className:"input-container",children:[e("label",{htmlFor:"usernameInput",children:"Email "}),e("input",{type:"email",id:"usernameInput","data-testid":"usernameInput",placeholder:"Insert your email",ref:r,required:!0})]}),t("div",{className:"input-container",children:[e("label",{htmlFor:"passwordInput",children:"Password "}),e("input",{type:"password",id:"passwordInput","data-testid":"passwordInput",placeholder:"Insert your password",ref:a,minLength:5,required:!0})]}),t("div",{className:"input-container",children:[e("label",{htmlFor:"passwordConfirmInput",children:"Confirm Password "}),e("input",{type:"password",id:"passwordConfirmInput","data-testid":"passwordConfirmInput",placeholder:"Confirm your password",ref:d,minLength:5,required:!0})]}),e("div",{className:"submit-container",children:e("button",{type:"submit","data-testid":"submitButton",children:"Sign In"})})]})})]})}function R(){var r,a;const l=g(d=>d.auth.authData),n=y();return(a=(r=n.state)==null?void 0:r.from)!=null&&a.pathname,l.token?e(b,{to:"/",state:{from:n},replace:!0}):t(v,{children:[e(x,{children:e("title",{children:"Kanban App - Sign In"})}),e("div",{children:e(C,{})})]})}export{R as default};
