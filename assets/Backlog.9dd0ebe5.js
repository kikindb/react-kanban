import{u as b,a as v,r as a,j as r,F as k,b as e,H as y,C as x,c as g,A as T}from"./index.2e9b2329.js";import{T as i,s as A}from"./tasks.service.a7a0b890.js";function N(){const h=b(),c=v(l=>l.auth.authData),t=a.exports.useRef(null),n=a.exports.useRef(null),u=a.exports.useRef(null),s=a.exports.useRef(null),p=l=>{var d;if(l.preventDefault(),t.current&&n.current&&u.current&&s.current){const f={id:"",title:t.current.value,body:n.current.value,author:u.current.value,createdAt:new Date().toDateString(),status:+((d=s.current)==null?void 0:d.value)};A(f,c.token),m(),h(g.setAlert({title:"Task Created",body:"Your task was created successfully",type:T.info,show:!0}))}},m=()=>{t.current&&n.current&&u.current&&s.current&&(t.current.value="",n.current.value="",o())},o=()=>{t.current!==null&&t.current.focus()};return a.exports.useEffect(()=>{o()},[]),r(k,{children:[e(y,{children:e("title",{children:"Kanban App - Backlog"})}),e(x,{children:e("div",{className:"backlog-form-container",children:r("form",{onSubmit:p,children:[e("h2",{children:"Create new Task"}),r("div",{className:"input-container",children:[e("label",{htmlFor:"input-title",children:"Title "}),e("input",{type:"text",name:"input-title",id:"input-title",ref:t,required:!0,minLength:3,placeholder:"Insert task title"})]}),r("div",{className:"input-container",children:[e("label",{htmlFor:"input-body",children:"Body "}),e("textarea",{name:"input-container",id:"input-body",ref:n,placeholder:"Insert the body of the task",minLength:5,required:!0})]}),r("div",{className:"input-container",children:[e("label",{htmlFor:"input-author",children:"Author "}),e("input",{type:"text",name:"input-author",id:"input-author",ref:u,defaultValue:c.name,minLength:3,required:!0,placeholder:"Insert task author",disabled:!0})]}),r("div",{className:"input-container",children:[e("label",{htmlFor:"select-status",children:"Status "}),r("select",{name:"select-status",id:"select-status",ref:s,children:[e("option",{value:i.todo,children:"To Do"}),e("option",{value:i.doing,children:"Doing"}),e("option",{value:i.done,children:"Done"})]})]}),e("div",{className:"btn-container",children:e("button",{type:"submit",children:"Add Task"})})]})})})]})}export{N as default};
