import{u as f,a as j,r as n,j as e,H as b,C as v,b as h,A as k}from"./index-Df3DJmYp.js";import{T as l,s as y}from"./tasks.service-BYKNwBwm.js";function A(){const i=f(),c=j(u=>u.auth.authData),t=n.useRef(null),r=n.useRef(null),s=n.useRef(null),a=n.useRef(null),p=u=>{var d;if(u.preventDefault(),t.current&&r.current&&s.current&&a.current){const x={id:"",title:t.current.value,body:r.current.value,author:s.current.value,createdAt:new Date().toDateString(),status:+((d=a.current)==null?void 0:d.value)};y(x,c.token),m(),i(h.setAlert({title:"Task Created",body:"Your task was created successfully",type:k.info,show:!0})),setTimeout(()=>{console.log("Timer run"),i(h.hideAlert())},1500)}},m=()=>{t.current&&r.current&&s.current&&a.current&&(t.current.value="",r.current.value="",o())},o=()=>{t.current!==null&&t.current.focus()};return n.useEffect(()=>{o()},[]),e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx("title",{children:"Kanban App - Backlog"})}),e.jsx(v,{children:e.jsx("div",{className:"backlog-form-container",children:e.jsxs("form",{onSubmit:p,children:[e.jsx("h2",{children:"Create new Task"}),e.jsxs("div",{className:"input-container",children:[e.jsx("label",{htmlFor:"input-title",children:"Title "}),e.jsx("input",{type:"text",name:"input-title",id:"input-title",ref:t,required:!0,minLength:3,placeholder:"Insert task title"})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("label",{htmlFor:"input-body",children:"Body "}),e.jsx("textarea",{name:"input-container",id:"input-body",ref:r,placeholder:"Insert the body of the task",minLength:5,required:!0})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("label",{htmlFor:"input-author",children:"Author "}),e.jsx("input",{type:"text",name:"input-author",id:"input-author",ref:s,defaultValue:c.name,minLength:3,required:!0,placeholder:"Insert task author",disabled:!0})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("label",{htmlFor:"select-status",children:"Status "}),e.jsxs("select",{name:"select-status",id:"select-status",ref:a,children:[e.jsx("option",{value:l.todo,children:"To Do"}),e.jsx("option",{value:l.doing,children:"Doing"}),e.jsx("option",{value:l.done,children:"Done"})]})]}),e.jsx("div",{className:"btn-container",children:e.jsx("button",{type:"submit",children:"Add Task"})})]})})})]})}export{A as default};
